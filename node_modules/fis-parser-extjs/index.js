/*
 * fis
 * http://web.baidu.com/
 */

'use strict';

module.exports = function(content, file, conf, fis){
    var map = fis.compile.lang;
    var reg = /"(?:[^\\"]|\\[\s\S])+"|'(?:[^\\']|\\[\s\S])+'|\/\/[\r\n]+|\/\*[\s\S]+?\*\/|\bF\.(inline|uri)\s*\(\s*("(?:[^\\"]|\\[\s\S])+"|'(?:[^\\']|\\[\s\S])+')\s*\)/g;
    return content.replace(reg, function(m, type, value){
        switch (type){
            case 'inline':
                m = map.embed.ld + value + map.embed.rd;
                break;
            case 'uri':
                m = map.uri.ld + value + map.uri.rd;
                break;
        }
        return m;
    });
};